---
title: "Basic Usage"
author: "Konrad Zdeb"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Basic Usage}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  collapse = TRUE,
  comment = "#>"
)

# Enable httptest for vignette development
library(httptest)
start_vignette("basic-usage")

# Load package
library("SmarterScotland")
```

# Introduction

The following packages makes use of the SPARQL [^1] language queries in order to query the data available through the [statistics.gov.scot](http://statistics.gov.scot) portal [^2]. In effect, the app works as a wrapper for SPARQL queries providing a suite of common functionalities relevant to how the Scottish public data is being utilises.

## Available Data

The package comes with an embedded data sets containing list of data and geographies available through the [statistics.gov.scot](http://statistics.gov.scot) endpoint. 

### Data sets

To see the list of available data sets refer to the `available_data_sets` objects.

```{r show_available_data}
data("available_data_sets")
```
```{r table_available_data, echo=FALSE}
knitr::kable(head(available_data_sets))
```

### Geographies

Similar techniques can be used to obtain a list of available geographies.

```{r show_available_geographies}
data("standard_geography_code_register")
```
```{r table_available_geographies, echo=FALSE}
knitr::kable(head(standard_geography_code_register))
```

### Live reference data

More recent versions of the provided data sets can be sourced live from the [statistics.gov.scot](http://statistics.gov.scot) portal using dedicated functions, `get_available_datasets` sources available data and `get_available_geographies` sources and parses Standard Geography Code Register. Seaching for tematic data sets can be achived simply using queries, as shown below. 

```{r search_jsa_data}
get_available_datasets(pattern = "job")
```

```{r end-setup, include=FALSE}
end_vignette()
```

[^1]: Detailed information on the SPARQL is available through [W3C pages](https://www.w3.org/TR/rdf-sparql-query/).
[^2]: The implementation follows part of the *Open Data Strategy* implemented by the Scottish Government that can be accessed through the [Scottish Government pages](http://www.gov.scot/Topics/Economy/digital/digitalservices/datamanagement/OpenData).